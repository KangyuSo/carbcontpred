[{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"carbcontpred-predicting-and-mapping-soil-organic-carbon-content-based-on-the-spectral-reflectance-of-soil-samples-in-hudson-bay-lowlands-ontario-canada","dir":"Articles","previous_headings":"","what":"carbcontpred: Predicting and Mapping Soil Organic Carbon Content Based on The Spectral Reflectance of Soil Samples in Hudson Bay Lowlands, Ontario, Canada","title":"carbcontpred-vignette","text":"package contains objects sourced 2022 McMaster Remote Sensing Laboratory research project objects created facilitate use analysis fieldwork data. project recorded wide range biochemical, biophysical, spectral metrics 432 soil samples collected Hudson Bay Lowlands (N 51.220318, W 80.556189) measured analyzed McMaster University University Guelph. portion project’s data cleaned packaged easy use R environment. soil samples collected near Kashechewan (N 52.253621, W 81.776621), Moose Factory (N 51.220318, W 80.556189), Attawapiskat (N 52.934019, W 82.377133) First Nation communities northern Ontario, Canada. image shows 3 locations soil samples collected :  Figure 1. satellite image map portion Hudson Bay Lowlands soil samples collected . legend displays locations soil sample sites. project funded Natural Sciences Engineering Research Council Canada (NSERC) Discovery Grants program (RGPIN-2020-05,708). corresponding author Kangyu So1. full list authors can found here2.","code":""},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"what-is-this-package","dir":"Articles","previous_headings":"","what":"What Is This Package?","title":"carbcontpred-vignette","text":"package carbcontpred contains objects sourced 2022 McMaster Remote Sensing Laboratory research project objects created facilitate use analysis fieldwork data. package includes data spectral reflectance organic carbon content soil samples dried oven 48 hours. package also includes function cpred building linear regression model make organic carbon content predictions, R Markdown file pre-processing data cpred. package also includes function mappred using predictions linear regression model predict organic carbon content Region Interest (ROI) spectral reflectance data table, R Markdown file pre-processing data mappred. raw data research project eventually freely available public repository GitHub, bulky organized complicated manner. carbcontpred pre-processes data R, extracting portion data useful developing predictive models carbon stock soil samples. package also includes functions can used build predictive models tuned future authors open-source community.","code":""},{"path":[]},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"installation","dir":"Articles","previous_headings":"Set-Up","what":"Installation","title":"carbcontpred-vignette","text":"install package done yet: Begin loading package:","code":"install.packages(\"remotes\", repos = \"http://cran.us.r-project.org\") library(remotes)  remotes::install_github(\"KangyuSo/carbcontpred\",                           build_vignettes = TRUE) library(carbcontpred)"},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"pre-processing-data-for-cpred","dir":"Articles","previous_headings":"Set-Up","what":"Pre-Processing Data for cpred","title":"carbcontpred-vignette","text":"2022 McMaster Remote Sensing Laboratory research project collected soil samples Hudson Bay Lowlands region northern Ontario, Canada (N 51.220318, W 80.556189). Included within two csv files containing data soil samples. first csv file contains data spectral reflectance post-dried soil samples wavelengths 350 nm 2500 nm increments 1 nm. reflectance spectra normalized, continuum removal must applied. done using following chunk: table still arranged definitions composed wavelength ID soil samples, totaling 433 definitions. many data definitions right now interested average reflectance given wavelength range. first calculate average using following chunk: Next, create new dataset records sample ID average reflectance acceptable format: Now, dataset sample ID average reflectance, latter independent variable linear regression model. need add dependent variable dataset, organic carbon content. data stored SoilMetrics_v01.csv \\data-raw folder. merge organic carbon content data dataset dataset containing sample ID average reflectance using following chunk: Finally, data fully processed ready build linear regression models using cpred function. Let’s take look first 6 rows data: Table 1. first 6 rows ref_dry_avg data set. See process-ref_dry.Rmd file complete details raw data processed use carbcontpred package.","code":"ref_dry <- as.data.frame(apply(data_ref[,-1], MARGIN=2, FUN =continuumRemoval, wav = data_ref$Wavelength)) ref_dry <- cbind(Wavelength = data_ref$Wavelength, ref_dry) start_row <- 350 end_row <- 2500 ref_dry <- ref_dry[start_row:end_row, 2:ncol(ref_dry)] avg_values <- colMeans(ref_dry, na.rm = TRUE) ref_dry_avg <- data.frame(   \"Sample_ID\" = colnames(ref_dry),   \"Reflectance\" = avg_values ) ref_dry_avg <- ref_dry_avg %>%   left_join(data_met %>% select(Sample_ID, OC), by = \"Sample_ID\") %>%   rename(Organic_Carbon = OC)"},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"cpred-function-overview","dir":"Articles","previous_headings":"Set-Up","what":"cpred Function Overview:","title":"carbcontpred-vignette","text":"cpred function builds linear regression model using spectral reflectance independent variable organic carbon content dependent variable uses predict organic carbon content soil samples based reflectance. function utilize dataset containing spectral reflectance organic carbon content soil samples. package, dataset ref_dry_avg.rda. cpred function can applied using following chunk: chunk , parameter data represents ref_dry_avg dataset. parameter \"Reflectance\" represents \"Reflectance\" column ref_dry_avg dataset average reflectance 300 nm 2500 nm post-dried soil samples. parameter \"Organic_Carbon\" represents \"Organic_Carbon\" column ref_dry_avg dataset measured organic carbon content percent dry weight post-dried soil samples. parameters 0.7 10 represent test size model number folds cross-validation respectively. parameter \"Predicted_Organic_Carbon\" represents name predicted organic carbon content output. return function new column added previous dataset contains predicted organic carbon content values using cross-validated linear regression model. Let’s take look 6 rows newly updated dataset pred_c predicted organic carbon content values: Table 2. first 6 rows pred_c data set. Let’s visualize data scatter plot original predicted organic carbon content values X Y axis respectively:  Figure 2. scatterplot pred_c data set measured predicted organic carbon content percent dry weight samples X Y axis respectively. Finally let’s evaluate output calculating R2 value original predicted organic carbon content values: R2 value example ~0.61, line R2 values studies used standard global soil spectral data peatlands predict organic carbon (de Sousa Mendes et al., 2022). See README.Rmd files additional details utilize cpred. See cpred.R file additional information function.","code":"data <- data.frame(ref_dry_avg) pred_c <- cpred(data, \"Reflectance\", \"Organic_Carbon\", 0.7, 10, \"Predicted_Organic_Carbon\") install.packages(\"ggplot2\") library(ggplot2)  ggplot(pred_c, aes(x = Organic_Carbon, y = Predicted_Organic_Carbon)) +   geom_point() +   geom_smooth(method = \"lm\", color = \"red\") +   labs(x = \"Organic_Carbon\", y = \"Predicted_Organic_Carbon\") +   theme_minimal() +   theme(panel.grid = element_blank()) +   geom_hline(yintercept = 0, linetype = \"solid\", color = \"black\") +   geom_vline(xintercept = 0, linetype = \"solid\", color = \"black\") r_squared <- cor(pred_c$Organic_Carbon, pred_c$Predicted_Organic_Carbon)^2 cat(\"R-squared:\", r_squared, \"\\n\")"},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"pre-processing-data-for-mappred","dir":"Articles","previous_headings":"Set-Up","what":"Pre-Processing Data for mappred","title":"carbcontpred-vignette","text":"mappred function uses two data sets. first data set file containing spatial information spectral reflectance values ROI. example file used vignette Reflectance_ROI.csv \\inst\\extdata folder. information extract ROI data file, see (INSERT WEBSITE LINK). second data set consists sample ID, average reflectance, measured predicted organic carbon content post-dried soil samples. normally output cpred function shown previous section. example file used vignette pred_c.rda \\data folder.","code":""},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"mappred-function-overview","dir":"Articles","previous_headings":"Set-Up","what":"mappred Function Overview:","title":"carbcontpred-vignette","text":"mappred function extracts algebraic equation based reflectance predicted organic carbon content soil samples data set. function applies min-max normalization reflectance values ROI data set. Finally, mappred function uses algebraic equation predict organic carbon content spatial points ROI data set based reflectance, outputs updated data set new csv file. function utilize two data sets, one containing spatial information spectral reflectance values ROI one containing reflectance predicted organic carbon content soil samples. package, ROI data set Reflectance_ROI.csv predicted organic carbon content dataset pred_c.rda. mappred function can applied using following chunk: chunk , parameter pred_c represents pred_c dataset. parameter \"Reflectance\" represents \"Reflectance\" column pred_c dataset average reflectance 300 nm 2500 nm post-dried soil samples. parameter \"Predicted_Organic_Carbon\" represents \"Predicted_Organic_Carbon\" column pred_c dataset predicted organic carbon content percent dry weight post-dried soil samples. parameter system.file(\"extdata\", \"Reflectance_ROI.csv\", package = \"carbcontpred\") represents path Reflectance_ROI.csv file. parameter \"ROI_Predicted_Carbon\" represents name output updated data set contain predicted organic carbon content spatial points Reflectance_ROI.csv file. return function csv file contains spatial information ROI data set replaces reflectance values points predicted organic carbon content. original reflectance values replacement predicted organic carbon content typically B1 ROI data set. recommended run mappred function using new ROI data set place original ROI data set containing reflectance values. Let’s take look 6 rows newly created data file ROI_Predicted_Carbon.csv predicted organic carbon content values: Table 3. first 6 rows ROI_Predicted_Carbon.csv data file. Let’s visualize data histogram value count B1 column ROI_Predicted_Carbon.csv data set X Y axis respectively:  Figure 3. histogram ROI_Predicted_Carbon.csv data file spectral reflectance value count points value X Y axis respectively. can also visualize ROI_Predicted_Carbon.csv data set histogram kernel density curve value density B1 column ROI_Predicted_Carbon.csv data set X Y axis respectively:  Figure 4. histogram ROI_Predicted_Carbon.csv data file spectral reflectance value density points value X Y axis respectively. kernel density curve overlaid histogram red. see use ROI_Predicted_Carbon.csv another output mappred visualize predicted organic carbon content ROI map, see (INSERT WEBSITE LINK). See README.Rmd files additional details utilize mappred. See mappred.R file additional information function.","code":"mappred_c <- mappred(pred_c, \"Reflectance\", \"Predicted_Organic_Carbon\", system.file(\"extdata\", \"Reflectance_ROI.csv\", package = \"carbcontpred\"), \"ROI_Predicted_Carbon\") install.packages(\"ggplot2\") library(ggplot2)  ggplot(ROI_Predicted_Carbon, aes(x = B1)) +     labs(x = \"Value of B1\", y = \"Count of B1\") +      geom_histogram(binwidth= .5, colour= \"black\", fill= \"white\") +      theme_minimal() +     theme(panel.grid = element_blank()) +     geom_hline(yintercept = 0, linetype = \"solid\", color = \"black\") +     geom_vline(xintercept = 0, linetype = \"solid\", color = \"black\") ggplot(ROI_Predicted_Carbon, aes(x = B1)) +      geom_histogram(aes(y = ..density..),                    binwidth = .5,                    colour = \"black\", fill = \"white\") +     labs(x = \"Value of B1\", y = \"Density of B1\") +      theme_minimal() +     theme(panel.grid = element_blank()) +     geom_hline(yintercept = 0, linetype = \"solid\", color = \"black\") +     geom_vline(xintercept = 0, linetype = \"solid\", color = \"black\") +      geom_density(alpha = .2, fill = \"#FF6666\")"},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"contributing-to-the-carbcontpred-package","dir":"Articles","previous_headings":"","what":"Contributing to the carbcontpred Package","title":"carbcontpred-vignette","text":"purpose R package make soil spectral reflectance organic carbon content data 2022 McMaster University Remote Sensing Laboratory project easily available predictive modeling mapping R environment. Currently, package uses reflectance organic carbon content data post-dried soil samples, invite others community request additional metrics original project dataset, report issues spelling errors, contribute carbcontpred package. contribute package, create branch repository submit pull request contribution. Contributions reviewed approval full credit given.","code":""},{"path":"https://carbcontpred.r-lib.org/articles/carbcontpred-vignette.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"carbcontpred-vignette","text":"de Sousa Mendes, W., Sommer, M., Koszinski, S., & Wehrhan, M. (2022). Peatlands spectral data influence   global spectral modelling soil organic carbon total nitrogen using visible-near-infrared spectroscopy.   Journal Environmental Management, 317, 115383. https://doi.org/10.1016/j.jenvman.2022.115383","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"vis-nir-spectroscopy-for-predicting-soil-organic-carbon-content","dir":"Articles > Web_only","previous_headings":"","what":"Vis-NIR spectroscopy for predicting soil organic carbon content","title":"Background Information","text":"past couple decades, application visible near infrared (NIR) regions soil science researched intensively. visible region consists wavelengths 400 780 nm used detect soil organic matter. NIR region consists wavelengths 780 2500 nm used detect H[2]O CO[2]. visible region near infrared (NIR) region can combined form visible-near infrared (vis-NIR) region. region used predict number different soil properties, organic carbon among successful accurate predictions (Stenberg et al., 2010).","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"effect-of-water-on-soil-vis-nir-spectra","dir":"Articles > Web_only","previous_headings":"","what":"Effect of water on soil vis-NIR spectra","title":"Background Information","text":"Water strong effect reflectance soil vis-NIR region, especially 1400 nm 1900 nm. wavelength range, water causes depth width absorption become larger, thus decreasing reflectance shown Figure 1. can impact accuracy spectra soil samples collected fieldwork. Additionally, wet soil samples can varied particle sizes dry samples grounded, can lead inconsistencies spectra (Ji et al., 2015).  Figure 1. absorbance spectra (Log 1/R) 34 soil samples measured field (grey), lab (black), direct standardization (red) used remove environmental factors like water field spectra (Ji et al., 2015). carbcontpred package uses dried soil samples example data sets illustrate capability using spectra reflectance predicting soil organic carbon content. Dried soil samples chosen output cpred yielded higher R2 value (~0.61) wet soil samples (~0.52).","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"measuring-soil-organic-carbon-content-through-dry-combustion","dir":"Articles > Web_only","previous_headings":"","what":"Measuring soil organic carbon content through dry combustion","title":"Background Information","text":"used dry combustion method measure organic carbon content soil samples example data sets carbcontpred University Guelph’s Agriculture Food Laboratory. dry combustion considered standard method chemical analysis soil samples collected field. Specifically, used automated carbon analyzer detecting carbon. done introducing dried soil samples high-temperature oxidation zone converts carbon soil CO[2]. CO[2] gas carried carrier gas separated gases gas chromatographic system. Finally, CO[2] detected using automated infrared gas analyzer (Chatterjee et al., 2009). Table 1. list automated analyzers, principles detection, manufacturers contact information (Chatterjee et al., 2009). limitation dry combustion method using automated incredibly expensive use. cost 432 soil samples used SoilMetrics_v01.csv data set almost $10,000 CAD. Alternative methods measuring organic carbon content include situ methods, wet combustion, dry combustion weight loss soils ignition (Chatterjee et al., 2009).","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"collection-and-processing-of-soil-samples","dir":"Articles > Web_only","previous_headings":"","what":"Collection and processing of soil samples","title":"Background Information","text":"collected soil core samples using stainless steel peat corer. Figure 2 shows corer used collect soil samples used SoilMetrics_v01.csv data set Figure 3 shows corer used sample collection Hudson Bay Lowlands.  Figure 2. stainless steel peat corer used collect soil core samples. length ~80 cm width ~10 cm wide.  Figure 3. stainless steel peat corer used collect soil core samples near Attawapiskat First Nation community northern Ontario, Canada . samples divided 11.56 cm3 segments weighed using Mettler Toledo Standard -T Precision Balance. reflectance samples measured using ASD FieldSpec 4 Hi-Res NG spectrometer. soil samples places individual aluminum trays air-dried Lab-Line Model 3511 L-C Oven shown Figure 4. soil samples manually grounded using hammer mass reflectance measured . Finally soil samples sent University Guelph’s Agriculture Food Laboratory carbon analysis.  Figure 4. soil samples air-dried Lab-Line Model 3511 L-C Oven.","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"linear-regression-modeling-in-cpred","dir":"Articles > Web_only","previous_headings":"","what":"Linear regression modeling in cpred","title":"Background Information","text":"number different approaches regression models can take predict soil properties using reflectance. One example using “deviation arch” (DOA) parameter spectra effective estimating soil organic matter organic carbon. parameter covers reflectance wavelength range range 550 nm 650 nm. DOA-based regression model can come 4 different types: linear, quadratic, power, exponential. best estimation soil organic matter amongst 4 types linear, yielding highest R2 value validation results 0.51 ± 0.06 validation results shown Table 2. type DOA-based regression model employs linear regression model (Zheng et al., 2016). Table 2. calibration validation performance different types deviation arch (DOA)-based regression models (Zheng et al., 2016).  Although wavelength range DOA parameter falls within vis-NIR region, misses huge portion region (Zheng et al., 2016). use DOA prediction model cpred limitation. However, built cpred create linear regression model due strong performance Table 2.","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"min-max-normalization-in-mappred","dir":"Articles > Web_only","previous_headings":"","what":"Min-max normalization in mappred","title":"Background Information","text":"Min-max normalization technique data values data set subtracted minimum value divided range difference maximum minimum values (Sinsomboonthong, 2022). Min-max normalization can demonstrated following equation : \\[\\begin{equation} \\label{eq:1}X*=\\frac{X - min(X)}{max(X) - min(X)}\\end{equation}\\] X value data set, X value data set min-max normalization, min(X) minimum value, max(X) maximum value (Sinsomboonthong, 2022).* built mappred use min-max normalization reflectance values ROI data one common methods spectral preprocessing. Min-max normalization helps eliminate effects solid particle size, surface scattering, light variation NIR region. limited soil properties min-max normalization used spectral preprocessing materials surfaces. Figure 5 shows min-max normalization affects distribution spectra rice grains (Cheng et al., 2023).  Figure 5. near-infrared (NIR) absorbance spectra rice grains () without min-max normalization (B) min-max normalization (Cheng et al., 2023).","code":""},{"path":"https://carbcontpred.r-lib.org/articles/web_only/Background_Information.html","id":"references","dir":"Articles > Web_only","previous_headings":"","what":"References","title":"Background Information","text":"Chatterjee, ., Lal, R., Wielopolski, L., Martin, M. Z., & Ebinger, M. H. (2009). Evaluation different soil carbon determination methods. Critical Reviews Plant Science, 28(3), 164-178. https://doi.org/10.1080/07352680902776556 Cheng, W., Xu, Z., Fan, S., Liu, B., Zhang, P., Xia, J., Li, Z., Wang, Y., Wang, Q., & Wu, Y. (2023). Rapid evaluation method eating quality based near-infrared spectroscopy composition physicochemical properties analysis rice grains. Journal Food Measurement Characterization, 17(2), 1640-1650. https://doi.org/10.1007/s11694-022-01686-7 Ji, W., Viscarra Rossel, R. ., & Shi, Z. (2015). Accounting effects water environment proximally sensed vis–NIR soil spectra calibrations. European Journal Soil Science, 66(3), 555-565. https://doi.org/10.1111/ejss.12239 Sinsomboonthong, S. (2022). Performance comparison new adjusted min-max decimal scaling statistical column normalization methods artificial neural network classification. International Journal Mathematics Mathematical Sciences, 2022. https://doi.org/10.1155/2022/3584406 Stenberg, B., Rossel, R. . V., Mouazen, . M., & Wetterlind, J. (2010). Visible near infrared spectroscopy soil science. Advances Agronomy, 107, 163-215. https://doi.org/10.1016/S0065-2113(10)07005-7 Zheng, G., Ryu, D., Jiao, C., & Hong, C. (2016). Estimation organic matter content coastal soil using reflectance spectroscopy. Pedosphere, 26(1), 130-136. https://doi.org/10.1016/S1002-0160(15)60029-7","code":""},{"path":"https://carbcontpred.r-lib.org/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Kangyu . Author, maintainer.","code":""},{"path":"https://carbcontpred.r-lib.org/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"K (2023). carbcontpred: Linear Regression Soil Spectral Reflectance Organic Carbcon Content Data Help Predict Organic Carbon Regions Interest Mapping Purposes. R package version 0.0.0.9000, https://github.com/KangyuSo/carbcontpred.","code":"@Manual{,   title = {carbcontpred: Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes},   author = {Kangyu So},   year = {2023},   note = {R package version 0.0.0.9000},   url = {https://github.com/KangyuSo/carbcontpred}, }"},{"path":"https://carbcontpred.r-lib.org/index.html","id":"carbcontpred","dir":"","previous_headings":"","what":"Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes","title":"Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes","text":"first goal carbcontpred build cross-validate linear regression model dataset containing spectral reflectance organic carbon content soil samples, use predict organic carbon content based reflectance. second goal carbcontpred use predictions linear regression model predict organic carbon content Region Interest (ROI) data table containing spectral reflectance spatial points map.","code":""},{"path":"https://carbcontpred.r-lib.org/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes","text":"can install development version carbcontpred GitHub :","code":"install.packages(\"remotes\", repos = \"http://cran.us.r-project.org\") library(remotes)  remotes::install_github(\"KangyuSo/carbcontpred\",                           build_vignettes = TRUE) library(carbcontpred)"},{"path":"https://carbcontpred.r-lib.org/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes","text":"basic example shows solve common problem:","code":"## Install and load the \"remotes\" package install.packages(\"remotes\", repos = \"http://cran.us.r-project.org\") #>  #> The downloaded binary packages are in #>  /var/folders/j9/6__ydzcn15q_pgcfcdxhbrvc0000gn/T//RtmpxjfZ4w/downloaded_packages library(remotes)  ## Install and load the \"carbcontpred\" package remotes::install_github(\"KangyuSo/carbcontpred\",                           build_vignettes = TRUE) #> Downloading GitHub repo KangyuSo/carbcontpred@HEAD #>  #> ── R CMD build ───────────────────────────────────────────────────────────────── #>      checking for file ‘/private/var/folders/j9/6__ydzcn15q_pgcfcdxhbrvc0000gn/T/RtmpxjfZ4w/remotese44c98d1661/KangyuSo-carbcontpred-8a8e4ac/DESCRIPTION’ ...  ✔  checking for file ‘/private/var/folders/j9/6__ydzcn15q_pgcfcdxhbrvc0000gn/T/RtmpxjfZ4w/remotese44c98d1661/KangyuSo-carbcontpred-8a8e4ac/DESCRIPTION’ #>   ─  preparing ‘carbcontpred’: #>      checking DESCRIPTION meta-information ...  ✔  checking DESCRIPTION meta-information #>   ─  installing the package to build vignettes #>      creating vignettes ...  ✔  creating vignettes (6s) #>   ─  checking for LF line-endings in source and make files and shell scripts #>   ─  checking for empty or unneeded directories #>        NB: this package now depends on R (>= 3.5.0) #>        WARNING: Added dependency on R >= 3.5.0 because serialized objects in #>      serialize/load version 3 cannot be read in older versions of R. #>      File(s) containing such objects: #>        ‘carbcontpred/vignettes/ref_dry_avg.rda’ #>   ─  building ‘carbcontpred_0.0.0.9000.tar.gz’ #>       #>  library(carbcontpred)  ## Load the dataset  data <- data.frame(ref_dry_avg)  ## Create a linear regression model with \"Reflectance\" as the predictor variable, \"Organic_Carbon\" as the response variable, test size of 70%, 10 folds for the cross-validation, and \"Predicted_Organic_Carbon\" as the output column pred_c <- cpred(data, \"Reflectance\", \"Organic_Carbon\", 0.7, 10, \"Predicted_Organic_Carbon\") #> Loading required package: ggplot2 #> Loading required package: lattice   ## View the results View(pred_c)     ## Load the ROI data file \"ROI_Predicted_Carbon.csv\" and apply min-max normalization on the spectral reflectance values  ## Extract an equation for predicting organic carbon content using reflectance based on the results of the \"cpred\" function and use it to predicted the organic carbon content of the \"ROI_Predicted_Carbon.csv\" file using its reflectance values ## Update the ROI data file with the predictions and save it as a csv file output titled \"ROI_Predicted_Carbon\" mappred_c <- mappred(pred_c, \"Reflectance\", \"Predicted_Organic_Carbon\", system.file(\"extdata\", \"Reflectance_ROI.csv\", package = \"carbcontpred\"), \"ROI_Predicted_Carbon\") #> Rows: 12209 Columns: 7 #> ── Column specification ──────────────────────────────────────────────────────── #> Delimiter: \",\" #> chr (1): ; File X #> dbl (6): File Y, Map X, Map Y, Lat, Lon, B1 #>  #> ℹ Use `spec()` to retrieve the full column specification for this data. #> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.  ## View the first 10 rows of the resulting csv file head(read.csv(system.file(\"ROI_folder\", \"ROI_Predicted_Carbon.csv\", package = \"carbcontpred\")), 10) #>    X..File.X File.Y    Map.X   Map.Y      Lat       Lon       B1 #> 1         91   1677 -5517591 5894728 53.01250 -82.47585 68.85428 #> 2         92   1677 -5517128 5894728 53.01250 -82.46892 72.12532 #> 3         90   1677 -5518054 5894728 53.01250 -82.48277 68.85428 #> 4         89   1678 -5518518 5894264 53.00833 -82.48174 72.87362 #> 5         90   1678 -5518054 5894264 53.00833 -82.47481 72.87362 #> 6         91   1678 -5517591 5894264 53.00833 -82.46789 72.12532 #> 7         92   1678 -5517128 5894264 53.00833 -82.46096 72.00020 #> 8         93   1678 -5516665 5894264 53.00833 -82.45404 72.00020 #> 9         94   1678 -5516201 5894264 53.00833 -82.44711 68.65707 #> 10        95   1678 -5515738 5894264 53.00833 -82.44019 73.90656"},{"path":"https://carbcontpred.r-lib.org/reference/carbcontpred-package.html","id":null,"dir":"Reference","previous_headings":"","what":"carbcontpred: Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes — carbcontpred-package","title":"carbcontpred: Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes — carbcontpred-package","text":"package first builds cross-validates linear regression model dataset containing spectral reflectance organic carbon content soil samples. linear regression model uses reflectance predict organic carbon content. package uses predictions linear regression model predict organic carbon content Region Interest (ROI) data table using spectral reflectance values. package exercise package creation using R studio. package includes function builds implements linear regression model sample dataset containing reflectance organic carbon data soil samples. package includes another function extracts algebraic equation based predictions linear regression model uses predict organic carbon content sample ROI data file  using spectral reflectance data. package contains sample dataset predictions linear regression model. package also includes documentation functions datasets.","code":""},{"path":"https://carbcontpred.r-lib.org/reference/carbcontpred-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"carbcontpred: Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes — carbcontpred-package","text":"https://github.com/KangyuSo/carbcontpred","code":""},{"path":[]},{"path":"https://carbcontpred.r-lib.org/reference/carbcontpred-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"carbcontpred: Linear Regression of Soil Spectral Reflectance and Organic Carbcon Content Data to Help Predict Organic Carbon in Regions of Interest for Mapping Purposes — carbcontpred-package","text":"Maintainer: Kangyu sok11@mcmaster.ca Kangyu , School Earth, Environment Society, McMaster University sok11@mcmaster.ca","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"Create linear regression model, cross-validate , use predict organic carbon content soil samples based reflectance","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"","code":"cpred(data, reflectance, carbon, test_size, folds, prediction)"},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"data collected Kangyu , Dr. Alemu Gonsamo, Dr. Cheryl . Rogers (affiliated McMaster University) Hudson Bay Lowlands region July 2022","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"data dataset containing average reflectance organic carbon content soil samples reflectance average reflectance given wavelength range carbon organic carbon content percent dry weight test_size test size model folds number folds cross-validation prediction name predicted organic carbon content output","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"column containing predicted organic carbon content using cross-validated linear regression model","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"https://github.com/KangyuSo/carbcontpred","code":""},{"path":"https://carbcontpred.r-lib.org/reference/cpred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a linear regression model, cross-validate it, and use it to predict the organic carbon content of soil samples based on their reflectance — cpred","text":"","code":"data <- data.frame(ref_dry_avg) pred_c <- cpred(data, \"Reflectance\", \"Organic_Carbon\", 0.7, 10, \"Predicted_Organic_Carbon\") #> Loading required package: ggplot2 #> Loading required package: lattice"},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":null,"dir":"Reference","previous_headings":"","what":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"function first extracts algebraic equation based reflectance predicted organic carbon content soil samples. function applies min-max normalization reflectance values Region Interest (ROI) data table collected image processing analysis software ENVI. function applies extracted algebraic equation reflectance values points ROI data file predict organic carbon content. function updates ROI data file predictions outputs new csv file.","code":""},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"","code":"mappred( predictions_dataframe, reflectance_column, prediction_column,  ROI_dataset_path, output_dataset )"},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"data used predictions collected Kangyu , Dr. Alemu Gonsamo, Dr. Cheryl . Rogers (affiliated McMaster University) Hudson Bay Lowlands region July 2022. ROI dataset collected images collected Moderate Resolution Imaging Spectroradiometer (MODIS) satellite operated National Aeronautics Space Administration (NASA).","code":""},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"predictions_dataframe dataset resulting output cpred function, contains average reflectance measured predicted organic carbon content soil samples reflectance_column average reflectance given wavelength range predictions_dataframe prediction_column predicted organic carbon content predictions_dataframe ROI_dataset_path path ROI data table exported ENVI CSV file, contains geoinformation reflectance values ROI divided individual points output_dataset updated ROI data table containing new predicted organic carbon content points","code":""},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"CSV file containing ROI data table well predicted organic carbon content points using algebraic equation extracted predictions cross-validated linear regression model","code":""},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"https://github.com/KangyuSo/carbcontpred","code":""},{"path":"https://carbcontpred.r-lib.org/reference/mappred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The function first extracts an algebraic equation based on the reflectance and predicted organic carbon content of soil samples. Then the function applies min-max normalization over the reflectance values of an Region of Interest (ROI) data table collected from image processing and analysis software ENVI. Then the function applies the extracted algebraic equation on the reflectance values of points in the ROI data file to predict organic carbon content. Then the function updates the ROI data file with the predictions and outputs it as a new csv file. — mappred","text":"","code":"mappred_c <- mappred( pred_c, \"Reflectance\", \"Predicted_Organic_Carbon\",  system.file(\"extdata\", \"Reflectance_ROI.csv\", package = \"carbcontpred\"), \"ROI_Predicted_Carbon\" ) #> Rows: 12209 Columns: 7 #> ── Column specification ──────────────────────────────────────────────────────── #> Delimiter: \",\" #> chr (1): ; File X #> dbl (6): File Y, Map X, Map Y, Lat, Lon, B1 #>  #> ℹ Use `spec()` to retrieve the full column specification for this data. #> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."},{"path":"https://carbcontpred.r-lib.org/reference/pred_C.html","id":null,"dir":"Reference","previous_headings":"","what":"Reflectance values and measured and predicted organic carbon content for post-dried soil samples. — pred_c","title":"Reflectance values and measured and predicted organic carbon content for post-dried soil samples. — pred_c","text":"dataset containing information spectral reflectance, measured organic carbon content, predicted organic carbon content 303 post-dried soil samples collected Hudson Bay Lowlands.","code":""},{"path":"https://carbcontpred.r-lib.org/reference/pred_C.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reflectance values and measured and predicted organic carbon content for post-dried soil samples. — pred_c","text":"","code":"data(pred_c)"},{"path":"https://carbcontpred.r-lib.org/reference/pred_C.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Reflectance values and measured and predicted organic carbon content for post-dried soil samples. — pred_c","text":"data frame 303 observations 4 variables: Sample_ID ID soil sample Reflectance Average spectral reflectance value given wavelength soil sample Organic_Carbon Organic carbon content percent dry weight soil sample Predicted_Organic_Carbon Predicted organic carbon content percent dry weight soil sample","code":""},{"path":"https://carbcontpred.r-lib.org/reference/pred_C.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reflectance values and measured and predicted organic carbon content for post-dried soil samples. — pred_c","text":"","code":"data(pred_c)  Predicted_Organic_Carbon <- pred_c$Predicted_Organic_Carbon"},{"path":"https://carbcontpred.r-lib.org/reference/ref_dry_avg.html","id":null,"dir":"Reference","previous_headings":"","what":"Reflectance values and organic carbon content for post-dried soil samples. — ref_dry_avg","title":"Reflectance values and organic carbon content for post-dried soil samples. — ref_dry_avg","text":"dataset containing information spectral reflectance organic carbon content 432 post-dried soil samples collected Hudson Bay Lowlands.","code":""},{"path":"https://carbcontpred.r-lib.org/reference/ref_dry_avg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reflectance values and organic carbon content for post-dried soil samples. — ref_dry_avg","text":"","code":"data(ref_dry_avg)"},{"path":"https://carbcontpred.r-lib.org/reference/ref_dry_avg.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Reflectance values and organic carbon content for post-dried soil samples. — ref_dry_avg","text":"data frame 432 observations 3 variables: Sample_ID ID soil sample Reflectance Average spectral reflectance value given wavelength soil sample Organic_Carbon Organic carbon content percent dry weight soil sample","code":""},{"path":"https://carbcontpred.r-lib.org/reference/ref_dry_avg.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reflectance values and organic carbon content for post-dried soil samples. — ref_dry_avg","text":"","code":"data(ref_dry_avg)  Reflectance <- ref_dry_avg$Reflectance"}]
