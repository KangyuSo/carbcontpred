<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="carbcontpred">
<title>Background Information • carbcontpred</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Background Information">
<meta property="og:description" content="carbcontpred">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">carbcontpred</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/carbcontpred-vignette.html">carbcontpred-vignette</a>
    <a class="dropdown-item" href="../../articles/web_only/Background_Information.html">Background Information</a>
    <a class="dropdown-item" href="../../articles/web_only/ROI_Files.html">Extraction and Visualization of ROI Data Files</a>
    <a class="dropdown-item" href="../../articles/web_only/limitation_reuse.html">Limitations and Reuse Potential</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/KangyuSo/carbcontpred/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Background Information</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KangyuSo/carbcontpred/blob/HEAD/vignettes/web_only/Background_Information.Rmd" class="external-link"><code>vignettes/web_only/Background_Information.Rmd</code></a></small>
      <div class="d-none name"><code>Background_Information.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="vis-nir-spectroscopy-for-predicting-soil-organic-carbon-content">Vis-NIR spectroscopy for predicting soil organic carbon content<a class="anchor" aria-label="anchor" href="#vis-nir-spectroscopy-for-predicting-soil-organic-carbon-content"></a>
</h2>
<p>Over the past couple of decades, the application of visible and near
infrared (NIR) regions for soil science has been researched intensively.
The visible region consists of wavelengths between 400 and 780 nm and
has been used to detect soil organic matter. The NIR region consists of
wavelengths between 780 and 2500 nm and has been used to detect H[2]O
and CO[2]. The visible region and the near infrared (NIR) region can be
combined to form the visible-near infrared (vis-NIR) region. This region
has been used to predict several different soil properties, but organic
carbon is among the most successful for accurate predictions <span class="citation">(Stenberg et al. 2010)</span>.</p>
</div>
<div class="section level2">
<h2 id="effect-of-water-on-soil-vis-nir-spectra">Effect of water on soil vis-NIR spectra<a class="anchor" aria-label="anchor" href="#effect-of-water-on-soil-vis-nir-spectra"></a>
</h2>
<p>Water has a strong effect on the reflectance of soil in the vis-NIR
region, especially between 1400 nm and 1900 nm. In this wavelength
range, water causes the depth and width of absorption to become larger,
thus decreasing reflectance as shown in <strong>Figure 1</strong>. This
can impact the accuracy of the spectra of soil samples collected from
fieldwork. Additionally, wet soil samples can have more varied particle
sizes than dry samples that have been grounded, which can lead to
inconsistencies in the spectra <span class="citation">(Ji, Viscarra
Rossel, and Shi 2015)</span>.</p>
<p><img src="Absorbance_Water.png" style="width:75.0%"></p>
<p><strong>Figure 1.</strong> <em>The absorbance spectra (Log 1/R) of 34
soil samples that were measured in the field (grey), in the lab (black),
and after direct standardization (red) were used to remove environmental
factors like water from the field spectra <span class="citation">(Ji,
Viscarra Rossel, and Shi 2015)</span>.</em></p>
<p>The <code>carbcontpred</code> package uses dried soil samples for the
example data sets to illustrate the capability of using spectra
reflectance for predicting soil organic carbon content. Dried soil
samples were chosen because the output from <code>cpred</code> yielded a
higher R<sup>2</sup> value (~0.61) than the wet soil samples
(~0.52).</p>
</div>
<div class="section level2">
<h2 id="measuring-soil-organic-carbon-content-through-dry-combustion">Measuring soil organic carbon content through dry combustion<a class="anchor" aria-label="anchor" href="#measuring-soil-organic-carbon-content-through-dry-combustion"></a>
</h2>
<p>We used a dry combustion method to measure the organic carbon content
of the soil samples in the example data sets in
<code>carbcontpred</code> through the University of Guelph’s Agriculture
and Food Laboratory. This is because dry combustion is considered the
standard method for chemical analysis of soil samples collected from the
field. Specifically, we used an automated carbon analyzer for detecting
carbon. This is done by introducing the dried soil samples to a
high-temperature oxidation zone which converts carbon in the soil into
CO[2]. The CO[2] gas is then carried by a carrier gas and separated from
other gases through a gas chromatographic system. Finally, the CO[2] is
detected using an automated infrared gas analyzer <span class="citation">(Chatterjee et al. 2009)</span>.</p>
<p><strong>Table 1.</strong> <em>A list of automated analyzers, the
principles for detection, and manufacturers and their contact
information <span class="citation">(Chatterjee et al.
2009)</span>.</em></p>
<table class="table">
<colgroup>
<col width="10%">
<col width="14%">
<col width="6%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th align="left">Manufacturer</th>
<th align="left">Address.website</th>
<th align="left">Model..s.</th>
<th align="left">Operating.principle.detection.system</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Costech Analytical Technologies</td>
<td align="left">26074 Avenue Hall, Suite 14, Valencia, California-
91355, USA www.costechanalytical.com</td>
<td align="left">ECS 4010 CHNSO</td>
<td align="left">The sample within tin capsule reacts with oxygen and
combust at temperatures of 1700–1800°C. Combustion of sample generates
mixture of N2, CO2, H2O and SO2. The gases are separated by gas
chromatographic (GC) separation column and are detected sequentially by
the TCD (thermal conductivity detector). The TCD generates a signal,
which is proportional to the amount of element in the sample.</td>
</tr>
<tr class="even">
<td align="left">LECO Corp.</td>
<td align="left">3000 Lakeview Avenue, St. Joseph, Michigan 49085–2396,
USA www.leco.com</td>
<td align="left">TruSpec series</td>
<td align="left">Sample encapsulated in tin foil is combusted at 950°C
and detection by infrared.</td>
</tr>
<tr class="odd">
<td align="left">PerkinElmer Life and Analytical Sciences</td>
<td align="left">710 Bridgeport Avenue, Shelton, Connecticut-
06484–4794, USA www.perkinelmer.com</td>
<td align="left">2400 Series II CHNS/O Elemental Analyzer</td>
<td align="left">Based on the Pregl-Dumas method. Samples are combusted
with user flexible mode and gases are separated by frontal
chromatography and eluted gases are measured using TCD.</td>
</tr>
<tr class="even">
<td align="left">Elementar Analysensysteme GmbH</td>
<td align="left">Donaustrasse 7 D-63452 Hanau, Germany
www.elementar.de</td>
<td align="left">vario Macro, vario Max, vario EL III</td>
<td align="left">Samples are dropped into the combustion tube at user
selected temperature up to 1200°C. The use of tin vessels further
elevates the temperature up to 1800°C. Complete combustion is ensured
with O2 jet injection. Except for N2, other gases are retarded into
specific adsorption trap. After TCD signal for N2 is received,
adsorption traps are thermally desorbed and the corresponding gases
detected with TCD sequentially.</td>
</tr>
<tr class="odd">
<td align="left">Thermo Scientific (part of Thermo Fisher Scientific
Corporation)</td>
<td align="left">81 Wyman Street, Waltman, MA 02454, USA
www.thermo.com</td>
<td align="left">Flash EA 1112 NC</td>
<td align="left">Detection by TCD.</td>
</tr>
</tbody>
</table>
<p>A limitation of this dry combustion method using an automated is that
it is incredibly expensive to use. The cost for the 432 soil samples
used for the <code>SoilMetrics_v01.csv</code> data set was almost
$10,000 CAD. Alternative methods for measuring organic carbon content
include in situ methods, wet combustion, and dry combustion through the
weight loss of soils through ignition <span class="citation">(Chatterjee
et al. 2009)</span>.</p>
</div>
<div class="section level2">
<h2 id="collection-and-processing-of-soil-samples">Collection and processing of soil samples<a class="anchor" aria-label="anchor" href="#collection-and-processing-of-soil-samples"></a>
</h2>
<p>We collected soil core samples using a stainless steel peat corer.
<strong>Figure 2</strong> shows the corer used to collect the soil
samples used for the <code>SoilMetrics_v01.csv</code> data set and
<strong>Figure 3</strong> shows the corer being used for sample
collection in the Hudson Bay Lowlands.</p>
<p><img src="peat_corer.png" style="width:75.0%"></p>
<p><strong>Figure 2.</strong> <em>The stainless steel peat corer used to
collect soil core samples. It has a length of ~80 cm and a width of ~10
cm wide. </em></p>
<p><img src="sample_collection.png" style="width:75.0%"></p>
<p><strong>Figure 3.</strong> <em>The stainless steel peat corer being
used to collect soil core samples near the Attawapiskat First Nation
community in northern Ontario, Canada. </em></p>
<p>The samples were divided into 11.56 cm<sup>3</sup> segments and
weighed using a Mettler Toledo Standard ME-T Precision Balance. The
reflectance of the samples was measured using an ASD FieldSpec 4 Hi-Res
NG spectrometer. The soil samples were then placed in individual
aluminum trays and air-dried in a Lab-Line Model 3511 L-C Oven as shown
in <strong>Figure 4</strong>. The soil samples were then manually
grounded using a hammer and then the mass and reflectance were measured
again. Finally, the soil samples were sent to the University of Guelph’s
Agriculture and Food Laboratory for carbon analysis.</p>
<p><img src="oven_dry.jpg" style="width:75.0%"></p>
<p><strong>Figure 4.</strong> <em>The soil samples being air-dried in a
Lab-Line Model 3511 L-C Oven.</em></p>
</div>
<div class="section level2">
<h2 id="linear-regression-modeling-in-cpred">Linear regression modeling in cpred<a class="anchor" aria-label="anchor" href="#linear-regression-modeling-in-cpred"></a>
</h2>
<p>There are several different approaches that regression models can
take to predict soil properties using reflectance. One such example is
by using the “deviation of arch” (DOA) parameter of the spectra which is
effective for estimating soil organic matter such as organic carbon.
This parameter covers the reflectance wavelength range in the range
between 550 nm and 650 nm. A DOA-based regression model can come in 4
different types: linear, quadratic, power, and exponential. The best
estimation of soil organic matter amongst these 4 types is linear,
yielding the highest R<sup>2</sup> value for the validation results at
0.51 ± 0.06 for the validation results as shown in <strong>Table
2</strong>. This type of DOA-based regression model employs a linear
regression model <span class="citation">(Zheng et al. 2016)</span>.</p>
<p><strong>Table 2.</strong> <em>The calibration and validation
performance for different types of deviation of arch (DOA)-based
regression models <span class="citation">(Zheng et al.
2016)</span>.</em></p>
<p><img src="regression_model.png" style="width:75.0%"></p>
<p>Although the wavelength range of the DOA parameter falls within the
vis-NIR region, it misses a huge portion of the region <span class="citation">(Zheng et al. 2016)</span>. We cannot use DOA for our
prediction model in <code>cpred</code> because of this limitation.
However, we built <code>cpred</code> to create a linear regression model
due to its strong performance in <strong>Table 2</strong>.</p>
</div>
<div class="section level2">
<h2 id="min-max-normalization-in-mappred">Min-max normalization in mappred<a class="anchor" aria-label="anchor" href="#min-max-normalization-in-mappred"></a>
</h2>
<p>Min-max normalization is a technique where the data values in a data
set are subtracted by the minimum value and then divided by the range
which is the difference between the maximum and minimum values <span class="citation">(Sinsomboonthong et al. 2022)</span>. Min-max
normalization can be demonstrated through the following equation:</p>
<p><span class="math display">\[\begin{equation}
\label{eq:1}X'=\frac{X - min(X)}{max(X) -
min(X)}\end{equation}\]</span></p>
<p><em>where X is a value in the data set, X’ is a value in the data set
after min-max normalization, min(X) is the minimum value, and max(X) is
the maximum value <span class="citation">(Sinsomboonthong et al.
2022)</span>.</em></p>
<p>We built <code>mappred</code> to use min-max normalization on the
reflectance values from the ROI data because it is one of the common
methods for spectral preprocessing. Min-max normalization helps
eliminate the effects of solid particle size, surface scattering, and
light variation in the NIR region. This is not only limited to soil
properties as min-max normalization has been used for the spectral
preprocessing of other materials and surfaces. <strong>Figure 5</strong>
shows how min-max normalization affects the distribution of the spectra
in rice grains <span class="citation">(Cheng et al. 2023)</span>.</p>
<p><img src="rice_spectra.png" style="width:75.0%"></p>
<p><strong>Figure 5.</strong> <em>The near-infrared (NIR) absorbance
spectra of rice grains (A) without min-max normalization and (B) with
min-max normalization <span class="citation">(Cheng et al.
2023)</span>.</em></p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-chatterjee2009evaluation" class="csl-entry">
Chatterjee, Amitava, Rattan Lal, L Wielopolski, Madhavi Z Martin, and MH
Ebinger. 2009. <span>“Evaluation of Different Soil Carbon Determination
Methods.”</span> <em>Critical Reviews in Plant Science</em> 28 (3):
164–78. <a href="https://doi.org/10.1080/07352680902776556" class="external-link">https://doi.org/10.1080/07352680902776556</a>.
</div>
<div id="ref-cheng2023rapid" class="csl-entry">
Cheng, Weimin, Zhuopin Xu, Shuang Fan, Binmei Liu, Pengfei Zhang, Jiafa
Xia, Zefu Li, Yuanlei Wang, Qi Wang, and Yuejin Wu. 2023. <span>“Rapid
Evaluation Method of Eating Quality Based on Near-Infrared Spectroscopy
for Composition and Physicochemical Properties Analysis of Rice
Grains.”</span> <em>Journal of Food Measurement and
Characterization</em> 17 (2): 1640–50. <a href="https://doi.org/10.1007/s11694-022-01686-7" class="external-link">https://doi.org/10.1007/s11694-022-01686-7</a>.
</div>
<div id="ref-ji2015accounting" class="csl-entry">
Ji, W, RA Viscarra Rossel, and Z Shi. 2015. <span>“Accounting for the
Effects of Water and the Environment on Proximally Sensed Vis–NIR Soil
Spectra and Their Calibrations.”</span> <em>European Journal of Soil
Science</em> 66 (3): 555–65. <a href="https://doi.org/10.1111/ejss.12239" class="external-link">https://doi.org/10.1111/ejss.12239</a>.
</div>
<div id="ref-sinsomboonthong2022performance" class="csl-entry">
Sinsomboonthong, Saichon et al. 2022. <span>“Performance Comparison of
New Adjusted Min-Max with Decimal Scaling and Statistical Column
Normalization Methods for Artificial Neural Network
Classification.”</span> <em>International Journal of Mathematics and
Mathematical Sciences</em> 2022. <a href="https://doi.org/10.1155/2022/3584406" class="external-link">https://doi.org/10.1155/2022/3584406</a>.
</div>
<div id="ref-stenberg2010visible" class="csl-entry">
Stenberg, Bo, Raphael A Viscarra Rossel, Abdul Mounem Mouazen, and
Johanna Wetterlind. 2010. <span>“Visible and Near Infrared Spectroscopy
in Soil Science.”</span> <em>Advances in Agronomy</em> 107: 163–215. <a href="https://doi.org/10.1016/S0065-2113(10)07005-7" class="external-link">https://doi.org/10.1016/S0065-2113(10)07005-7</a>.
</div>
<div id="ref-zheng2016estimation" class="csl-entry">
Zheng, GuangHui, RYU Dongryeol, JIAO Caixia, and HONG Changqiao. 2016.
<span>“Estimation of Organic Matter Content in Coastal Soil Using
Reflectance Spectroscopy.”</span> <em>Pedosphere</em> 26 (1): 130–36. <a href="https://doi.org/10.1016/S1002-0160(15)60029-7" class="external-link">https://doi.org/10.1016/S1002-0160(15)60029-7</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kangyu So.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
