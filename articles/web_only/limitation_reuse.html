<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="carbcontpred">
<title>Limitations and Reuse Potential • carbcontpred</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="Limitations and Reuse Potential">
<meta property="og:description" content="carbcontpred">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">carbcontpred</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/carbcontpred-vignette.html">carbcontpred-vignette</a>
    <a class="dropdown-item" href="../../articles/web_only/Background_Information.html">Background Information</a>
    <a class="dropdown-item" href="../../articles/web_only/ROI_Files.html">Extraction and Visualization of ROI Data Files</a>
    <a class="dropdown-item" href="../../articles/web_only/limitation_reuse.html">Limitations and Reuse Potential</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/KangyuSo/carbcontpred/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Limitations and Reuse Potential</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KangyuSo/carbcontpred/blob/HEAD/vignettes/web_only/limitation_reuse.Rmd" class="external-link"><code>vignettes/web_only/limitation_reuse.Rmd</code></a></small>
      <div class="d-none name"><code>limitation_reuse.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This article discusses how the <code>carbcontpred</code> package can
be customized to fit your specific objectives and circumstances
regarding the prediction of soil properties. Customization includes the
type of data used for processing as well as the functions within
<code>carbcontpred</code> package itself. The article also discusses
some limitations of the <code>carbcontpred</code> package.</p>
</div>
<div class="section level2">
<h2 id="using-dry-or-wet-soil-samples">Using dry or wet soil samples<a class="anchor" aria-label="anchor" href="#using-dry-or-wet-soil-samples"></a>
</h2>
<p>The <code>carbcontpred</code> package uses dried soil samples for the
example data sets due to the high water content in the samples affecting
the performance of the predictions as mentioned in this <a href="file:///Users/kangyuso/carbcontpred/docs/articles/web_only/Background_Information.html">article</a>.
However, soil samples from drier areas than the peatlands in the Hudson
Bay Lowlands may benefit from utilizing wet soil samples instead. The
water content within drier samples may be low enough that it would only
have a small effect on the prediction accuracy (Ji et al., 2015). The
drying process may lead to the loss of some carbon content within
samples, and so dried soil samples that already had little water content
beforehand may actually have a worse prediction accuracy than when they
were wet. Thus, in some cases, using the wet soil samples for the
<code>carbcontpred</code> package may lead to better prediction
performance than if you were to use the dried soil samples. In the case
of the example data sets, the soil samples were collected from peatlands
which have a very high water content so the dried soil samples yielded
better prediction accuracy (Price &amp; Schlotzhauer, 1999).</p>
</div>
<div class="section level2">
<h2 id="continuity-between-cpred-and-mappred-inputs-and-outputs">Continuity between cpred and mappred inputs and outputs<a class="anchor" aria-label="anchor" href="#continuity-between-cpred-and-mappred-inputs-and-outputs"></a>
</h2>
<p>We recommend that you keep the location of the soil samples for
<code>cpred</code> and the ROI for <code>mappred</code> within the same
area or nearby. Although models such as the linear regression model
built in <code>cpred</code> can used either local or global data sets,
the prediction performance using global data is worse than the
performance for the local data. Additionally, the predictions from the
linear regression model will likely not be helpful for predicting the
organic carbon content of ROIs in different areas. The soil in a
different area may contain minerals or other properties that affect the
reflectance spectra, thus making predictions from one area to another
very susceptible to covariables (de Sousa Mendes et al., 2022). We
recommend at least keeping the type of soil or ground consistent between
the soil samples for <code>cpred</code> and the ROI for
<code>mappred</code>. The example in the <code>carbcontpred</code>
package uses an ROI that remains within ~200 km<sup>2</sup> of the soil
sample sites and covers mostly peatland, the same type of area as where
the soil samples were collected from.</p>
</div>
<div class="section level2">
<h2 id="mappred-linear-equation">mappred linear equation<a class="anchor" aria-label="anchor" href="#mappred-linear-equation"></a>
</h2>
<p>The <code>mappred</code> function utilizes a linear equation to
predict the organic carbon content of an ROI data table using its
reflectance values. The equation is as follows:</p>
<p>[1]<span class="math display">\[\begin{equation} \label{eq:1}y = β*α
+ α*x*-β\end{equation}\]</span></p>
<p><em>where α represents a coefficient extracted from predictions made
by <code>cpred</code>, β is a manually inputted value, x represents the
reflectance values of the points from the ROI data file, and y
represents the predicted organic carbon of the points.</em></p>
<p>The values of β can be adjusted depending on the specific type of
soil or soil properties you are dealing with. However, β must be
adjusted so that β*α should never be above 100 or below 0 as such values
are unrealistic for a percentage which is what y represents. The example
for <code>mappred</code> adapts the equation by replacing β with 3 as
follows:</p>
<p>[2]<span class="math display">\[\begin{equation} \label{eq:2}y = 3*α
+ α*x*-3\end{equation}\]</span></p>
<p><em>where α represents a coefficient extracted from predictions made
by <code>cpred</code>, x represents the reflectance values of the points
from the ROI data file, and y represents the predicted organic carbon of
the points.</em></p>
<p>This equation is written in this section of
<code>mappred.R</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">predicted_carbon</span> <span class="op">&lt;-</span> <span class="fl">3</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">coefficient</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">coefficient</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">ROI</span><span class="op">$</span><span class="va">B1</span><span class="op">)</span> <span class="op">*</span> <span class="op">-</span><span class="fl">3</span></span></code></pre></div>
<p>Here, α is represented through <code>as.vector(coefficient)</code>, β
is represented through <code>3</code>, x is represented through
<code>as.numeric(ROI$B1)</code>, and y is represented through
<code>predicted_carbon</code>.</p>
</div>
<div class="section level2">
<h2 id="data-loss-between-envi-and-arcgis-pro">Data loss between ENVI and ArcGIS Pro<a class="anchor" aria-label="anchor" href="#data-loss-between-envi-and-arcgis-pro"></a>
</h2>
<p>It should be noted that using the two softwares ENVI and ArcGIS Pro
for extraction and visualization of an ROI data file respectively as
shown in this <a href="file:///Users/kangyuso/carbcontpred/docs/articles/web_only/ROI_Files.html">article</a>
can lead to some loss of data. For example, visualizing the
<code>ROI_Predicted_Carbon.csv</code> data file on ArcGIS Pro leads to
some of the data missing in the raster:</p>
<p><img src="arcgis_raster_carbon.png" style="width:75.0%"></p>
<p><strong>Figure 1.</strong> <em>A raster of the Hudson Bay Lowlands
showing the predicted organic carbon content in percent dry mass of the
Region of Interest (ROI). The image is generated using the data file
MOD09GA.A2022276.h13v03.061.2022278035218 from NASA and the
<code>carbcontpred</code> package.</em></p>
</div>
<div class="section level2">
<h2 id="reuse-for-different-soil-properties-and-areas">Reuse for different soil properties and areas<a class="anchor" aria-label="anchor" href="#reuse-for-different-soil-properties-and-areas"></a>
</h2>
<p>While <code>carbcontpred</code> creates a predictive model and map
for carbon stock through spectral reflectance, the package can be
adapted for a variety of other uses. Different soil properties can be
used as the predictor in <code>cpred</code> such as peat content,
gravimetric water content, and bulk density. The response in
<code>cpred</code> can be other different soil chemical properties such
as nitrogen or inorganic carbon content. Additionally,
<code>carbcontpred</code> can be customized to predict soil properties
not only for other peatland regions in the world, but also other
ecosystems and biomes.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div class="line-block">de Sousa Mendes, W., Sommer, M., Koszinski, S.,
&amp; Wehrhan, M. (2022). Peatlands spectral data influence in<br>
  global spectral modelling of soil organic carbon and total nitrogen
using visible-near-infrared spectroscopy.<br>
  <em>Journal of Environmental Management</em>, <em>317</em>, 115383. <a href="https://doi.org/10.1016/j.jenvman.2022.115383" class="external-link uri">https://doi.org/10.1016/j.jenvman.2022.115383</a>
</div>
<div class="line-block">Price, J. S., &amp; Schlotzhauer, S. M. (1999).
Importance of shrinkage and compression in determining water<br>
  storage changes in peat: the case of a mined peatland.
<em>Hydrological Processes</em>, <em>13</em>(16), 2591-2601.<br>
  <a href="https://doi.org/10.1002/(SICI)1099-1085(199911)13:16" class="external-link uri">https://doi.org/10.1002/(SICI)1099-1085(199911)13:16</a>&lt;2591::AID-HYP933&gt;3.0.CO;2-E</div>
<div class="line-block">Ji, W., Viscarra Rossel, R. A., &amp; Shi, Z.
(2015). Accounting for the effects of water and the environment on<br>
  proximally sensed vis–NIR soil spectra and their calibrations.
<em>European Journal of Soil Science</em>, <em>66</em>(3),<br>
  555-565. <a href="https://doi.org/10.1111/ejss.12239" class="external-link uri">https://doi.org/10.1111/ejss.12239</a>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Kangyu So.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
